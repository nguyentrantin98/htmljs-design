var n=Object.defineProperty;var o=(i,t,e)=>t in i?n(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e;var s=(i,t,e)=>(o(i,typeof t!="symbol"?t+"":t,e),e);import{F as a,T as r}from"./index-jL8zU13h.js";class c extends a{constructor(){super(...arguments);s(this,"AllPermission",!1);s(this,"RecordIds",[]);s(this,"FeaturePolicy",[])}get StrRecordIds(){return this.RecordIds.map(e=>`"${e}"`).join()}}class d extends r{constructor(){super("FeaturePolicy"),this.Popup=!0,this.Name="SecurityEditor",this.Title="Permissions",this.Icon="mif-security"}get Security(){return this.Entity instanceof c?this.Entity:null}}class y extends r{constructor(){super("FeaturePolicy");s(this,"Entity");this.Popup=!0,this.Name="CreateSecurity",this.Title="Permissions",this.Icon="mif-security",document.addEventListener("DOMContentLoaded",this.CheckAllPolicy.bind(this))}CheckAllPolicy(){const e=this.Entity;e&&(e.CanDelete=e.AllPermission,e.CanDeactivate=e.AllPermission,e.CanRead=e.AllPermission,e.CanWrite=e.AllPermission,e.CanShare=e.AllPermission,this.FindComponentByName("Properties").UpdateView())}CheckPolicy(){const e=this.Entity;e&&(e.AllPermission=e.CanDeactivate&&e.CanDelete&&e.CanRead&&e.CanShare&&e.CanWrite,this.FindComponentByName("Properties").UpdateView())}}export{d as SecurityBL,y as SecurityEditorBL};
