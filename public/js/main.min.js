let maxWidth = window.innerWidth,
    Main = (function () {
        let a = document.querySelector("body");
        maxWidth < 900
            ? a.classList.add("collapse-sidebar")
            : a.classList.remove("collapse-sidebar");
        function n(t = "max") {
        }
        let e = document.querySelector(".main-sidebar li .active");
        return (
            e &&
            setTimeout(() => {
                e.scrollIntoView({ block: "center" });
            }, 200),
            {
                init: function () {
                    document.querySelectorAll(".ps-menu").forEach((e) => {
                        new PerfectScrollbar(e, {
                            wheelSpeed: 0.5,
                            wheelPropagation: !1,
                            suppressScrollX: !0,
                        }).update();
                    });
                    {
                        document
                            .querySelector(".settings-icon")
                            .addEventListener("click", function (e) {
                                this.parentElement.parentElement.classList.toggle("show");
                            }),
                            maxWidth < 900 && a.classList.add("collapse-sidebar");
                        let s = document.querySelector(".header-navbar"),
                            l = document.querySelector("footer");
                        var e = document.querySelectorAll(".toggle-settings");
                        let t = JSON.parse(localStorage.getItem("themeSettings"));
                        t?.fixSidebar || n(),
                            e.forEach(function (e) {
                                (e.checked = t?.["fix" + e.name]),
                                    "Header" === e.name
                                        ? t?.["fix" + e.name]
                                            ? s.classList.add("fixed")
                                            : s.classList.remove("fixed")
                                        : "Footer" === e.name
                                            ? t?.["fix" + e.name]
                                                ? l.classList.add("sticky")
                                                : l.classList.remove("sticky")
                                            : t?.["fix" + e.name]
                                                ? a.classList.add("collapse-sidebar")
                                                : 900 < maxWidth && a.classList.remove("collapse-sidebar"),
                                    e.addEventListener("change", function (e) {
                                        var t = JSON.parse(localStorage.getItem("themeSettings")),
                                            e = e.target.name;
                                        "Header" === e
                                            ? this.checked
                                                ? s.classList.add("fixed")
                                                : s.classList.remove("fixed")
                                            : "Footer" === e
                                                ? this.checked
                                                    ? l.classList.add("sticky")
                                                    : l.classList.remove("sticky")
                                                : this.checked
                                                    ? (a.classList.add("collapse-sidebar"), n("min"))
                                                    : (a.classList.remove("collapse-sidebar"), n()),
                                            localStorage.setItem(
                                                "themeSettings",
                                                JSON.stringify({ ...t, ["fix" + e]: !t?.["fix" + e] })
                                            );
                                    });
                            }),
                            document.getElementById("theme-color"),
                            document
                                .querySelector(".theme-switch-icon")
                                .addEventListener("click", function () {
                                    var e = JSON.parse(localStorage.getItem("themeSettings"));
                                    "light" == e?.themeColor
                                        ? ((document.getElementById("dark").checked = !0),
                                            localStorage.setItem(
                                                "themeSettings",
                                                JSON.stringify({ ...e, themeColor: "dark" })
                                            ),
                                            a.classList.add("dark"))
                                        : ((document.getElementById("light").checked = !0),
                                            localStorage.setItem(
                                                "themeSettings",
                                                JSON.stringify({ ...e, themeColor: "light" })
                                            ),
                                            a.classList.remove("dark"));
                                }),
                            document.querySelectorAll(".theme-color").forEach(function (e) {
                                var t = JSON.parse(localStorage.getItem("themeSettings"));
                                t?.themeColor == e.value && (e.checked = !0),
                                    "dark" == t?.themeColor
                                        ? a.classList.add("dark")
                                        : a.classList.remove("dark"),
                                    e.addEventListener("change", function (e) {
                                        var t = JSON.parse(localStorage.getItem("themeSettings")),
                                            e = e.target.value;
                                        a.classList.toggle("dark"),
                                            localStorage.setItem(
                                                "themeSettings",
                                                JSON.stringify({ ...t, themeColor: e })
                                            );
                                    });
                            });
                    }
                    {
                        let a = document.querySelectorAll(".main-menu");
                        a.forEach(function (l) {
                            l.addEventListener("click", function (e) {
                                e.preventDefault();
                                let t = l.parentElement.classList.contains("open");
                                a.forEach(function (e) {
                                    t || e.parentElement.classList.remove("open");
                                }),
                                    document.querySelectorAll("ul li.open").forEach((e) => {
                                        e.classList.contains("active") ||
                                            t ||
                                            e.classList.remove("open", "active");
                                    }),
                                    this.parentElement.classList.toggle("open");
                                document
                                    .querySelectorAll("nav .sub-menu")
                                    .forEach(function (e) {
                                        t ||
                                            ((e.style.maxHeight = null),
                                                e.classList.remove("expand"));
                                    }),
                                    this.nextElementSibling.style.maxHeight
                                        ? ((this.nextElementSibling.style.maxHeight = null),
                                            this.nextElementSibling.classList.remove("expand"))
                                        : ((this.nextElementSibling.style.maxHeight =
                                            this.nextElementSibling.scrollHeight + "px"),
                                            this.nextElementSibling.classList.add("expand"));
                                var s = this.nextElementSibling.children;
                                for (let e = 0; e < s.length; e++)
                                    s[e].addEventListener("click", function (e) {
                                        var t =
                                            this.parentElement.parentElement.parentElement.children;
                                        for (let e = 0; e < t.length; e++) {
                                            var s = t[e];
                                            s.classList.remove("active", "open"), s.children;
                                        }
                                        document
                                            .querySelectorAll("nav ul ul li.active")
                                            .forEach((e) => {
                                                e.classList.remove("active");
                                            });
                                        var l = this.parentElement.children;
                                        for (let e = 0; e < l.length; e++)
                                            l[e].classList.remove("active");
                                        this.classList.add("active"),
                                            this.parentElement.parentElement.classList.add(
                                                "active",
                                                "open"
                                            );
                                    });
                            });
                        }),
                            (e = document.querySelector(".main-sidebar")).addEventListener(
                                "mouseenter",
                                function (e) {
                                    document
                                        .querySelector("body")
                                        .classList.contains("collapse-sidebar") &&
                                        document.querySelector("li.open") &&
                                        n();
                                }
                            ),
                            e.addEventListener("mouseleave", function (e) {
                                document
                                    .querySelector("body")
                                    .classList.contains("collapse-sidebar") &&
                                    document.querySelectorAll("nav .sub-menu").forEach((e) => {
                                        //e.style.maxHeight = 0;
                                    });
                            }),
                            document.querySelectorAll(".action-toggle").forEach((e) => {
                                e.addEventListener("click", function (e) {
                                    e.preventDefault();
                                    var t,
                                        e = document.querySelector("body");
                                    e.classList.contains("collapse-sidebar")
                                        ? (n(),
                                            e.classList.add("expand-sidebar"),
                                            e.classList.remove("collapse-sidebar"))
                                        : (e.classList.remove("expand-sidebar"),
                                            e.classList.add("collapse-sidebar"));
                                });
                            });
                    }
                },
            }
        );
    })();
